<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Menu | Lordgrass.com</title>
    <link rel="shortcut icon" href="assets/favicon.png" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/script.js"></script>
    <script src="js/jquery.js"></script>
    <meta property="og:site_name" content="LordGrass.com" />
	<meta property="og:type" content="Website" />
	<meta property="og:title" content="LordGrass.com" />
	<meta property="og:description" content="Official Website of Enadasa" />
	<meta id="meta-image" property="og:image" itemprop="image" content="assets/favicon.png" />
	<link rel="apple-touch-icon" href="" />
	<meta name="author" content="Enadasa (Modifications only)" />
    <meta name="description" content="Official Website of Enadasa">
	<meta name="keywords" content="Enadasa,Lordgrass,Youtuber" />
</head>
<body>       
    <div  class="main-menu">
        <!--<div class="linkbar">
            <a href="https://enadasa.vivaldi.net">Blog</a>
            <div style="padding: .5%; color: red; float: right;" id="date"></div>
        </div>-->
        <div class="grid">
            <div class="ch-c">
                <div class="ch occupied" data-id="shop" data-href="shop">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">Shop Channel</span>
                </div>
		        <div class="ch occupied" data-id="senate" data-href="https://rumble.com/v52yho6-the-senate-channel.html">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">The Senate Channel</span>
                </div>
                <div class="ch occupied" data-id="youtube" data-href="https://www.youtube.com/@enadasa">
                    <iframe src=""></iframe>
                    <div class="onhover" onmouseover="hover()" onclick="zip()"></div>
                    <span class="tag">Main YouTube</span>
                </div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
            </div>
            <div class="ch-c">
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
                <div class="ch blank"></div>
            </div>
        </div>
        <div class="Navigation">
            <img src="assets/prev-default.png" class="prev" />
            <img src="assets/next-default.png" class="next" />
        </div>
        <div class="bottom-bar">
            <div class="lateral left">
                <img src="assets/wii-button.png" class="wii-btn buttonlike" />
                <span class="tag">Logo</span>
            </div>
            <div class="info" style="color: #33ccff;">
                <span class="jg">Lordgrass.com</span>
                <span id="hour"></span>
            </div>
            <div class="lateral right">
                <img src="assets/mail-button.png" class="diary-btn buttonlike" onclick="startAudio()" />
                <span class="tag">Update Notes</span>
            </div>
        </div>
    </div>
        <div class="bottom">
            <span id="date2"></span>
            <div class="lateral">
            </div>
        </div>
    </div>

    <div class="ch-selection">
        <div class="thecontent">
            <div class="tl"></div><div class="tr"></div><div class="bl"></div><div class="br"></div>
            <img id="videoSpec" src="" />
            <div class="buttons">
                <a class="buttonlike" onclick="menuReturn()">Menu</a>
                <a class="buttonlike letsago" onclick="start()">Start</a>
            </div>
        </div>
    </div>

<div class="msgboard">
    <div class="bg"></div>
    <div class="card buttonlike" onclick="letterIn()">
        <span>Version 24.10 C. 20</span>
    </div>
    <div class="opened">
        <div class="memo">
            <span class="title">Change Notes for V 24.10 C. 20</span>
            <div class="lines">
                <span>
                    Removed more bloat, should decrease load time!
                </span>
            </div>
        </div>
        <a class="alt-btn back"><img src="assets/back.png"></a>
    </div>
    <div class="bottom">
        <span id="date2"></span>
        <div class="lateral">
            <img src="assets/wii-button.png" class="back-btn backtowiimenu buttonlike" />
            <span class="tag">Menu</span>
        </div>

<div class="ui-sfx">
    <audio id="hover" src="audio/button-hover.mp3"></audio>
    <audio id="select" src="audio/button-select.mp3"></audio>
    <audio id="zip" src="audio/zip.mp3"></audio>
    <audio id="back" src="audio/back.mp3"></audio>
    <audio id="start" src="audio/start.mp3"></audio>
    <audio id="homeIn" src="audio/home-in.mp3"></audio>
    <audio id="homeOut" src="audio/home-out.mp3"></audio>
    <audio id="rm1" src="audio/returntomenu-1.mp3"></audio>
    <audio id="rm2" src="audio/returntomenu-2.mp3"></audio>
    <audio id="nextprev" src="audio/nextprev.mp3"></audio>
    <audio id="letterIn" src="audio/letter-in.mp3"></audio>
    <audio id="chSpec" src=""></audio>
</div>

<script>
    // CHANNEL ART LOAD
    $(document).ready(function() {
        $('.ch.occupied').each(function() {
            var artsrc = 'channelart/' + $(this).data('id') + '/channel.html';
            $(this).find('iframe').attr('src', artsrc);
        });
    });

    // CLICKS ON CHANNEL
    $(".main-menu").on("click", ".occupied .onhover", function() {
        var centerX = $(this).offset().left + $(this).width() / 2;
        var centerY = $(this).offset().top + $(this).height() / 2;
        $(".main-menu").css({"transform-origin" : centerX + "px " + centerY + "px 0" });
        $(".ch-selection").css({"transform-origin" : centerX + "px " + centerY + "px 0" });
        $(".main-menu").addClass('ch-trans-on');
    });
    
    $(document).on("click", ".occupied", function() {
        console.log($(this).data('id'));

        var audiosrc = 'assets/channels/' + $(this).data('id') + '/audio.mp3';
        $("#chSpec").attr('src', audiosrc);

        var videosrc = 'assets/channels/' + $(this).data('id') + '/video.gif';
        $("#videoSpec").attr('src', videosrc);

        $("#chSpec")[0].currentTime = 0;
        var currentaudio = document.getElementById("chSpec");
        currentaudio.play();

        $(".letsago").attr('data-start', $(this).data('href'));
        if ($(this).attr("data-href")) {
            $(".letsago").attr('data-start', $(this).data('href'));
        }
        else {
            $(".letsago").addClass("disabled-btn");
        }
    });

    // CHANNEL START
    function start() {
        var audio = document.getElementById("start");
        audio.volume = 0.4; audio.play();
        if ($(".letsago").attr("data-start")) {
            setTimeout(() => {document.body.classList.add("fadeOut");}, 1000);
            setTimeout(() => {window.location.href = $(".letsago").data("start");}, 2000);
        }
        else {
            alert("ERROR: No endpoint has been defined for this channel.");
        }

        var chaudio = $('#chSpec');
        var duration = 1000;
        var steps = 10;

        function decreaseVolume() {
            var initialVolume = chaudio[0].volume;
            var step = initialVolume / steps;
            var delay = duration / steps;

            for (var i = 0; i < steps; i++) {
                setTimeout(function() {
                chaudio[0].volume -= step;
                }, i * delay);
            }
        } decreaseVolume();
    }
    // MESSAGE BOARD
    $(".card.buttonlike").click(event => {
        $(".opened").css("display", "flex");
        $(".bg").css("display", "block");
    });

    $(".alt-btn.back").click(event => {
        $(".opened").css("display", "none");
        $(".bg").css("display", "none");
    });

    $(".backtowiimenu").click(event => {
        $(".msgboard").fadeOut();
    });

    $(".diary-btn").click(event => {
        $(".msgboard").css("display", "flex");
    });
    // RETURNS TO THE MENU
    function menuReturn() {
        var currentaudio = document.getElementById("chSpec");
        currentaudio.pause();
        $("#videoSpec").attr('src', '');

        $(".letsago").removeClass("disabled-btn");

        $(".main-menu").removeClass('ch-trans-on');
        $(".main-menu").addClass('chsout-anim');
        setTimeout(() => {$(".main-menu").removeClass('chsout-anim');}, 1000);
        select(); back(); bgmus();
    }

    //PAGE PREV/NEXT
    $('.prev').on('click', function() {
        nextprev();
        $('.grid').animate({ scrollLeft: '-=' + $('.grid').width() }, 0);
    });

    $('.next').on('click', function() {
        nextprev();
        $('.grid').animate({ scrollLeft: '+=' + $('.grid').width() }, 0);
        
    });

    // HOME/PAUSE MENU
    if (document.addEventListener) {
        document.addEventListener('keydown', function(event) {
            if (event.key === "p") {
                homeIn();
            }
            $(".home-menu").css("display", "grid");
        }, false);
    }
    else {
        document.attachEvent('oncontextmenu', function() {
            alert("EXCEPTION HANDLED: Failed to open Home/Pause menu.\nPlease report any bugs to the Everybody Votes channel.");
            window.event.returnValue = false;
        });
    }

    $(".close-pause-menu").click(event => {
        $(".home-menu").addClass("fadeOut");
        setTimeout(() => {
            $(".home-menu").css("display", "none");
            $(".home-menu").removeClass("fadeOut");
        }, 250);
        bgmus(); homeOut();
    });

    $(".backtomenu").click(event => {
        $(".returndialog").css("display", "flex");
        rm1();
    });

    $(".closedialog").click(event => {
        $(".returndialog").css("display", "none");
    });

</script>
</body>
</html>
